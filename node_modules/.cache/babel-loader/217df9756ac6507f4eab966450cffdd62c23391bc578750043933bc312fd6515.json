{"ast":null,"code":"// Ya no importamos 'supabase'\n\n// 1. Definimos las ventas quemadas\n// Usamos strings 'YYYY-MM-DD' para que coincida con lo que\n// la base de datos y el <input type=\"date\"> manejan.\nconst hardcodedSales = [\n// Ventas de Ana (id: 1)\n{\n  id: 101,\n  fecha_venta: '2025-10-19',\n  monto: 1500,\n  vendedor_id: 1\n}, {\n  id: 102,\n  fecha_venta: '2025-10-20',\n  monto: 800,\n  vendedor_id: 1\n}, {\n  id: 103,\n  fecha_venta: '2025-10-21',\n  monto: 5500,\n  vendedor_id: 1\n},\n// Ventas de Juan (id: 2)\n{\n  id: 201,\n  fecha_venta: '2025-10-19',\n  monto: 6000,\n  vendedor_id: 2\n}, {\n  id: 202,\n  fecha_venta: '2025-10-20',\n  monto: 120,\n  vendedor_id: 2\n},\n// Ventas de María (id: 3)\n{\n  id: 301,\n  fecha_venta: '2025-10-21',\n  monto: 1100,\n  vendedor_id: 3\n},\n// Venta fuera de rango para probar\n{\n  id: 401,\n  fecha_venta: '2025-01-01',\n  monto: 1000,\n  vendedor_id: 1\n}];\nexport class SaleRepository {\n  /**\r\n   * Obtiene las ventas dentro de un rango de fechas (datos quemados).\r\n   * @param {string} startDate - Fecha de inicio (YYYY-MM-DD)\r\n   * @param {string} endDate - Fecha de fin (YYYY-MM-DD)\r\n   * @returns {Promise<Array>} Lista de ventas filtradas\r\n   */\n  async getByDateRange(startDate, endDate) {\n    // 2. Convertimos las fechas string del input a objetos Date para poder comparar.\n    // Usamos 'T00:00:00' para asegurarnos de que se interpreten en la zona horaria local\n    // y evitar problemas de un día más/menos (UTC).\n    const start = new Date(startDate + 'T00:00:00');\n    const end = new Date(endDate + 'T00:00:00');\n\n    // 3. Filtramos el array local en lugar de consultar Supabase\n    const filteredSales = hardcodedSales.filter(sale => {\n      const saleDate = new Date(sale.fecha_venta + 'T00:00:00');\n      return saleDate >= start && saleDate <= end;\n    });\n\n    // 4. Simulamos la respuesta asíncrona\n    return Promise.resolve(filteredSales);\n  }\n}","map":{"version":3,"names":["hardcodedSales","id","fecha_venta","monto","vendedor_id","SaleRepository","getByDateRange","startDate","endDate","start","Date","end","filteredSales","filter","sale","saleDate","Promise","resolve"],"sources":["C:/Users/Usuario/Desktop/Calculo de comisiones MVC/src/infrastructure/repositories/SaleRepository.js"],"sourcesContent":["// Ya no importamos 'supabase'\r\n\r\n// 1. Definimos las ventas quemadas\r\n// Usamos strings 'YYYY-MM-DD' para que coincida con lo que\r\n// la base de datos y el <input type=\"date\"> manejan.\r\nconst hardcodedSales = [\r\n  // Ventas de Ana (id: 1)\r\n  { id: 101, fecha_venta: '2025-10-19', monto: 1500, vendedor_id: 1 },\r\n  { id: 102, fecha_venta: '2025-10-20', monto: 800, vendedor_id: 1 },\r\n  { id: 103, fecha_venta: '2025-10-21', monto: 5500, vendedor_id: 1 },\r\n  \r\n  // Ventas de Juan (id: 2)\r\n  { id: 201, fecha_venta: '2025-10-19', monto: 6000, vendedor_id: 2 },\r\n  { id: 202, fecha_venta: '2025-10-20', monto: 120, vendedor_id: 2 },\r\n  \r\n  // Ventas de María (id: 3)\r\n  { id: 301, fecha_venta: '2025-10-21', monto: 1100, vendedor_id: 3 },\r\n  \r\n  // Venta fuera de rango para probar\r\n  { id: 401, fecha_venta: '2025-01-01', monto: 1000, vendedor_id: 1 },\r\n];\r\n\r\nexport class SaleRepository {\r\n  /**\r\n   * Obtiene las ventas dentro de un rango de fechas (datos quemados).\r\n   * @param {string} startDate - Fecha de inicio (YYYY-MM-DD)\r\n   * @param {string} endDate - Fecha de fin (YYYY-MM-DD)\r\n   * @returns {Promise<Array>} Lista de ventas filtradas\r\n   */\r\n  async getByDateRange(startDate, endDate) {\r\n    \r\n    // 2. Convertimos las fechas string del input a objetos Date para poder comparar.\r\n    // Usamos 'T00:00:00' para asegurarnos de que se interpreten en la zona horaria local\r\n    // y evitar problemas de un día más/menos (UTC).\r\n    const start = new Date(startDate + 'T00:00:00');\r\n    const end = new Date(endDate + 'T00:00:00');\r\n\r\n    // 3. Filtramos el array local en lugar de consultar Supabase\r\n    const filteredSales = hardcodedSales.filter(sale => {\r\n      const saleDate = new Date(sale.fecha_venta + 'T00:00:00');\r\n      return saleDate >= start && saleDate <= end;\r\n    });\r\n\r\n    // 4. Simulamos la respuesta asíncrona\r\n    return Promise.resolve(filteredSales);\r\n  }\r\n}"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,MAAMA,cAAc,GAAG;AACrB;AACA;EAAEC,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAE,CAAC,EACnE;EAAEH,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAE,CAAC,EAClE;EAAEH,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAE,CAAC;AAEnE;AACA;EAAEH,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAE,CAAC,EACnE;EAAEH,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAE,CAAC;AAElE;AACA;EAAEH,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAE,CAAC;AAEnE;AACA;EAAEH,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,YAAY;EAAEC,KAAK,EAAE,IAAI;EAAEC,WAAW,EAAE;AAAE,CAAC,CACpE;AAED,OAAO,MAAMC,cAAc,CAAC;EAC1B;AACF;AACA;AACA;AACA;AACA;EACE,MAAMC,cAAcA,CAACC,SAAS,EAAEC,OAAO,EAAE;IAEvC;IACA;IACA;IACA,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAACH,SAAS,GAAG,WAAW,CAAC;IAC/C,MAAMI,GAAG,GAAG,IAAID,IAAI,CAACF,OAAO,GAAG,WAAW,CAAC;;IAE3C;IACA,MAAMI,aAAa,GAAGZ,cAAc,CAACa,MAAM,CAACC,IAAI,IAAI;MAClD,MAAMC,QAAQ,GAAG,IAAIL,IAAI,CAACI,IAAI,CAACZ,WAAW,GAAG,WAAW,CAAC;MACzD,OAAOa,QAAQ,IAAIN,KAAK,IAAIM,QAAQ,IAAIJ,GAAG;IAC7C,CAAC,CAAC;;IAEF;IACA,OAAOK,OAAO,CAACC,OAAO,CAACL,aAAa,CAAC;EACvC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}